##
 # givekit.mcfunction
 # Super Sad Bros Melee
 #
 # Created by Sw3d15h_F1s4
##

# Ability descriptions

# Ability descriptions

#returns nevin's kit when his abilities are up
replaceitem entity @s[scores={abilityTimer=..0},nbt=!{Inventory:[{tag:{Tags:["assimilation"]}}]}] hotbar.2 carrot_on_a_stick{display:{Name:'[{"text":"R","color":"yellow","bold":true,"italic":false},{"text":"a","color":"gold","bold":true,"italic":false},{"text":"t","color":"red","bold":true,"italic":false},{"text":"\'","color":"light_purple","bold":true,"italic":false},{"text":"s","color":"dark_purple","bold":true,"italic":false},{"text":" "},{"text":"P","color":"blue","bold":true,"italic":false},{"text":"l","color":"dark_aqua","bold":true,"italic":false},{"text":"a","color":"aqua","bold":true,"italic":false},{"text":"g","color":"green","bold":true,"italic":false},{"text":"u","color":"yellow","bold":true,"italic":false},{"text":"e","color":"gold","bold":true,"italic":false}]',Lore:['{"text":"Opponen7s wi7hin a five block","color":"#FF99F1","italic":false}','{"text":"radius are infec7ed by Charne\'s","color":"#FF99F1","italic":false}','{"text":"opened pores, poisoning and","color":"#FF99F1","italic":false}','{"text":"slowing 7hem down!","color":"#FF99F1","italic":false}']},CustomModelData:9010,Tags:["assimilation","ability"]}
replaceitem entity @s[scores={ability2Timer=..0},nbt=!{Inventory:[{tag:{Tags:["shutin"]}}]}] hotbar.3 carrot_on_a_stick{display:{Name:'[{"text":"G","color":"yellow","bold":true,"italic":false},{"text":"a","color":"gold","bold":true,"italic":false},{"text":"m","color":"red","bold":true,"italic":false},{"text":"e","color":"light_purple","bold":true,"italic":false},{"text":"r","color":"dark_purple","bold":true,"italic":false},{"text":" ","color":"blue","bold":true,"italic":false},{"text":"S","color":"dark_aqua","bold":true,"italic":false},{"text":"q","color":"aqua","bold":true,"italic":false},{"text":"u","color":"green","bold":true,"italic":false},{"text":"a","color":"yellow","bold":true,"italic":false},{"text":"d","color":"gold","bold":true,"italic":false}]',Lore:['{"text":"Charne provides 7he whole","color":"#FF99F1","italic":false}','{"text":"gamer squad wi7h heals and","color":"#FF99F1","italic":false}','{"text":"relieves the gamers of slowness","color":"#FF99F1","italic":false}','{"text":"and impaired sight!","color":"#FF99F1","italic":false}']},CustomModelData:9011,Tags:["shutin","ability"]}
replaceitem entity @s[scores={ability3Timer=..0},nbt=!{Inventory:[{tag:{Tags:["petty"]}}]}] hotbar.4 carrot_on_a_stick{display:{Name:'[{"text":"P","color":"yellow","bold":true,"italic":false},{"text":"e","color":"gold","bold":true,"italic":false},{"text":"t","color":"red","bold":true,"italic":false},{"text":"t","color":"light_purple","bold":true,"italic":false},{"text":"y ","color":"dark_purple","bold":true,"italic":false},{"text":"S","color":"blue","bold":true,"italic":false},{"text":"l","color":"dark_aqua","bold":true,"italic":false},{"text":"a","color":"aqua","bold":true,"italic":false},{"text":"p","color":"green","bold":true,"italic":false}]',Lore:['{"text":"Charne\'s copy of Everes7","color":"#FF99F1","italic":false}','{"text":"goes Super, having more","color":"#FF99F1","italic":false}','{"text":"knockback and armor a7 7he","color":"#FF99F1","italic":false}','{"text":"cos7 of damage!","color":"#FF99F1","italic":false}']},CustomModelData:9012,Tags:["petty","ability"]}

replaceitem entity @s[scores={ultTimer=..0},nbt=!{Inventory:[{tag:{Tags:["bigsucc"]}}]}] hotbar.8 carrot_on_a_stick{display:{Name:'[{"text":"B","color":"yellow","bold":true,"italic":false},{"text":"i","color":"gold","bold":true,"italic":false},{"text":"g ","color":"red","bold":true,"italic":false},{"text":"B","color":"light_purple","bold":true,"italic":false},{"text":"o","color":"dark_purple","bold":true,"italic":false},{"text":"y ","color":"blue","bold":true,"italic":false},{"text":"S","color":"dark_aqua","bold":true,"italic":false},{"text":"u","color":"aqua","bold":true,"italic":false},{"text":"c","color":"green","bold":true,"italic":false},{"text":"c","color":"yellow","bold":true,"italic":false}]',Lore:['{"text":"Charne_3 becomes a killing","color":"#FF99F1","italic":false}','{"text":"machine, but he gradually","color":"#FF99F1","italic":false}','{"text":"loses health!","color":"#FF99F1","italic":false}']},CustomModelData:900020,Tags:["bigsucc"]}

#optionally, gives all kit items.
replaceitem entity @s[scores={gameState=1,helperTimer=..1}] hotbar.0 enchanted_book{display:{Name:'{"text":"Jon Krakauer\'s \\"Everest\\"","color":"light_purple","bold":true}',Lore:['{"text":"A used Copy of","color":"gold","bold":true,"italic":false}','{"text":"Everest","color":"gold","bold":true,"italic":false}']},HideFlags:61,Enchantments:[{id:"minecraft:thorns",lvl:1s},{id:"minecraft:sharpness",lvl:4s}],AttributeModifiers:[{AttributeName: "generic.attack_damage", Name: "generic.attack_damage", Amount: 5, Operation: 0, UUID: [I; 0, 122188, 0, 15135], Slot: "mainhand"},{AttributeName: "generic.attack_damage", Name: "generic.attackDamage", Amount: 0, Operation: 0, UUID: [I; 0, 478303, 0, 243290], Slot: "offhand"},{AttributeName: "generic.armor", Name: "generic.armor", Amount: 0, Operation: 0, UUID: [I; 0, 870567, 0, 985480], Slot: "mainhand"},{AttributeName: "generic.armor_toughness", Name: "generic.armorToughness", Amount: 0, Operation: 0, UUID: [I; 0, 218145, 0, 620901], Slot: "mainhand"},{AttributeName: "generic.attack_speed", Name: "generic.attackSpeed", Amount: 0, Operation: 0, UUID: [I; 0, 688143, 0, 677908], Slot: "mainhand"},{AttributeName:"generic.attack_speed",Name:"generic.attack_speed",Amount:-2d,Operation:0,Slot:"mainhand",UUID:[I;112,2323,3246,32434230]}],StoredEnchantments:[{id:"minecraft:mending",lvl:10s}]} 1
replaceitem entity @s[scores={gameState=1},nbt=!{Inventory:[{id:"minecraft:quartz"}]}] hotbar.1 quartz{display:{Name:'{"text":"White Claws","color":"white","bold":true,"italic":false}',Lore:['{"text":"WHITE CLAWS","color":"white","bold":true,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}']},HideFlags:2,AttributeModifiers:[{AttributeName:"generic.attack_damage",Name:"generic.attack_damage",Amount:2,Operation:0,UUID:[I;-42919021,1840989150,-1554613074,2043824647],Slot:"mainhand"},{AttributeName:"generic.attack_speed",Name:"generic.attack_speed",Amount:-0.7,Operation:1,UUID:[I;1141155432,1905937473,-1920889528,632889477],Slot:"mainhand"},{AttributeName:"generic.movement_speed",Name:"generic.movement_speed",Amount:.1,Operation:0,UUID:[I;-518964569,870729025,-1172412375,1906528883],Slot:"mainhand"},{AttributeName:"generic.follow_range",Name:"generic.follow_range",Amount:3,Operation:0,UUID:[I;1568182756,-1404418703,-1785620775,888298170]}]}
replaceitem entity @s[scores={gameState=1},nbt=!{Inventory:[{id:"minecraft:cooked_beef"}]}] hotbar.5 cooked_beef 64

execute unless score mapType gameState matches 4 run replaceitem entity @s[scores={gameState=1},nbt=!{Inventory:[{id:"minecraft:oak_button"}]}] armor.head oak_button{AttributeModifiers:[{AttributeName: "generic.armor", Name: "generic.armor", Amount: 6, Operation: 0, UUID: [I; 0, 319316, 0, 711835], Slot: "head"},{AttributeName: "generic.armor_toughness", Name: "generic.armorToughness", Amount: 8, Operation: 0, UUID: [I; 0, 688372, 0, 738919], Slot: "head"}],Unbreakable:1b,HideFlags:31,Enchantments:[{id:"binding_curse",lvl:1},{id:"minecraft:feather_falling",lvl:3s}]}
execute if score mapType gameState matches 4 run replaceitem entity @s[scores={gameState=1},nbt=!{Inventory:[{id:"minecraft:oak_button"}]}] armor.head oak_button{HideFlags:31,Enchantments:[{id:"minecraft:feather_falling",lvl:3s},{id:"minecraft:depth_strider",lvl:1s},{id:"minecraft:binding_curse",lvl:1s}],AttributeModifiers:[{AttributeName:"generic.armor",Name:"generic.armor",Amount:6,Operation:0,UUID:[I; 0, 319316, 0, 711835],Slot:"head"},{AttributeName:"generic.armor_toughness",Name:"generic.armor_toughness",Amount:8,Operation:0,UUID:[I; 0, 688372, 0, 738919],Slot:"head"}]}

# Rat's Plague:

# Removes temporary Resistance on Rat's Plague after 2 ticks / 10th of a second:
execute as @s if score @s abilityTimer matches 396..397 run effect clear @s resistance

# Resets C3_pHealth value to 0 after Rat's Plague use: (Resets after around 14 seconds of using RP)
execute as @s if score @s abilityTimer matches 284..285 run scoreboard players set @s C3_pHealth 0

execute if score @s[team=Red] abilityTimer matches 284..285 run scoreboard players set @a[team=!Red] b_clonedeath 0
execute if score @s[team=Blue] abilityTimer matches 284..285 run scoreboard players set @a[team=!Blue] b_clonedeath 0

#execute as @a[scores={heroType=9,helperTimer=0}] at @s run function melee:sonicnevin/endpettyslap
